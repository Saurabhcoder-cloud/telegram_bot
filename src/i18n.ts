import { LanguageCode, LanguageOption } from "./types";

export const LANGUAGES: LanguageOption[] = [
  { code: "en", label: "English 🇺🇸", locale: "en-US" },
  { code: "es", label: "Español 🇪🇸", locale: "es-ES" },
  { code: "ru", label: "Русский 🇷🇺", locale: "ru-RU" },
  { code: "zh", label: "中文 🇨🇳", locale: "zh-CN" },
  { code: "ar", label: "العربية 🇸🇦", locale: "ar-SA" },
  { code: "fa", label: "فارسی 🇮🇷", locale: "fa-IR" },
];

const translations: Record<LanguageCode, Record<string, string>> = {
  en: {
    "start.welcome": "👋 Welcome to TaxHelp AI! I will guide you through secure, step-by-step tax filing.",
    "start.choose_language": "Please choose your preferred language:",
    "language.menu_title": "🌎 Select a language",
    "language.updated": "✅ Language updated. I'll continue in {{language}}.",
    "registration.intro": "Let's get you registered. We'll ask a few quick questions.",
    "registration.ask_full_name": "What is your full name?",
    "registration.ask_email": "What is your email address?",
    "registration.ask_phone": "Phone number (optional). You can type Skip if you prefer.",
    "registration.ask_dob": "Date of birth (YYYY-MM-DD).",
    "registration.ask_filing_status": "Select your filing status:",
    "registration.ask_income_type": "What type of income applies to you?",
    "registration.ask_state": "Which state do you live in?",
    "registration.optional_skip": "Skip",
    "registration.invalid_email": "That email address does not look valid. Please try again.",
    "registration.invalid_dob": "Please use the format YYYY-MM-DD.",
    "auth.login_required": "Please sign in to continue.",
    "options.filing_status.single": "Single",
    "options.filing_status.married_joint": "Married Filing Jointly",
    "options.filing_status.married_separate": "Married Filing Separately",
    "options.filing_status.head_household": "Head of Household",
    "options.filing_status.widow": "Qualifying Widow(er)",
    "options.income_type.w2": "W-2",
    "options.income_type.1099": "1099",
    "options.income_type.student": "Student",
    "options.income_type.retired": "Retired",
    "options.income_type.other": "Other",
    "options.reminder.filing_deadline": "Federal filing deadline",
    "options.reminder.state_deadline": "State filing deadline",
    "options.reminder.documents": "Upload missing documents",
    "options.reminder.payment_due": "Tax payment due",
    "status.draft": "Draft",
    "status.submitted": "Submitted",
    "status.completed": "Completed",
    "registration.completed": "🎉 Registration completed!",
    "registration.duplicate": "It looks like you already have an account. Let's sign you in.",
    "registration.success_returning": "Welcome back {{name}}!",
    "login.ask_email": "Please enter the email linked to your account.",
    "login.ask_password": "Enter your password or one-time code.",
    "login.failed": "We could not verify those credentials. Try again or contact support.",
    "login.completed": "✅ Login successful.",
    "menu.title": "Main Menu",
    "menu.start_filing": "📝 Start Tax Filing",
    "menu.view_forms": "📂 View My Tax Forms",
    "menu.download_pdf": "📥 Download PDF",
    "menu.make_payment": "💳 Make Payment",
    "menu.ask_ai": "❓ Ask AI Question",
    "menu.change_language": "🌎 Change Language",
    "menu.profile": "👤 View / Edit Profile",
    "menu.reminders": "⏰ Smart Reminders",
    "menu.back": "⬅️ Back",
    "menu.cancel": "❌ Cancel",
    "filing.start": "We'll capture everything we need for your return. You can pause at any time.",
    "filing.step_progress": "Step {{current}} of {{total}}",
    "filing.prompt_w2": "Tell us about your W-2 wages (employer, income, withholding).",
    "filing.prompt_1099": "Share details from your 1099 income (type, payer, amount).",
    "filing.prompt_schedule_c": "Business/Schedule C income and expenses.",
    "filing.prompt_deductions": "Deductions you'd like to claim (charitable, mortgage, etc.).",
    "filing.prompt_dependents": "List your dependents (name, DOB, relationship).",
    "filing.prompt_education": "Education expenses or credits.",
    "filing.prompt_medical": "Medical expenses or HSA contributions.",
    "filing.prompt_mileage": "Business/medical mileage totals.",
    "filing.saved": "Progress saved.",
    "filing.summary_title": "🧾 Filing Summary",
    "filing.summary_review": "Review your data below. Use the buttons to edit any section before you finalize.",
    "filing.confirm_submit": "Submit to TaxHelp AI",
    "filing.submitted": "✅ Filing submitted. A specialist will review and notify you when it's ready.",
    "filing.resume_prompt": "You have a draft in progress. Continue where you left off?",
    "ai.prompt": "Ask any tax question. I'll respond with a friendly explanation and IRS resources when possible.",
    "ai.thinking": "🤖 Thinking...",
    "ai.error": "I couldn't reach the AI service. Please try again shortly.",
    "ai.reference_prefix": "Sources:",
    "forms.empty": "No tax forms found yet. Start filing to generate your first draft.",
    "forms.list_header": "Here are your available forms:",
    "forms.item_line": "• {{name}} ({{year}}) – {{status}}",
    "pdf.preparing": "Preparing your PDF...",
    "pdf.ready": "Here is your requested PDF.",
    "payment.creating": "Generating a secure Stripe Checkout session...",
    "payment.success": "Pay securely using the link below. Let us know once you complete payment.",
    "payment.failed": "We couldn't create a payment session. Please try later or contact support.",
    "reminder.prompt_type": "Choose the reminder you would like to schedule.",
    "reminder.choose_deadline": "Enter the due date or timeframe for this reminder (e.g., 2025-04-15 or 'next week').",
    "reminder.saved": "Reminder scheduled! We'll notify you as requested.",
    "reminder.add_calendar": "Add to Calendar",
    "profile.title": "Your profile",
    "profile.updated": "Profile updated successfully.",
    "profile.update_prompt": "Send the new value for {{field}}.",
    "profile.choose_field": "Which detail would you like to update?",
    "profile.cancelled": "Profile update cancelled.",
    "profile.field_fullName": "Full name",
    "profile.field_phone": "Phone",
    "profile.field_filingStatus": "Filing status",
    "profile.field_incomeType": "Income type",
    "profile.field_state": "State of residence",
    "profile.current_language": "Current language: {{language}}",
    "error.network": "I couldn't reach TaxHelp AI right now. Check your connection and try again.",
    "error.generic": "Something went wrong. Please try again or contact support.",
  },
  es: {
    "start.welcome": "👋 ¡Bienvenido a TaxHelp AI! Te guiaré paso a paso en tu declaración de impuestos.",
    "start.choose_language": "Elige tu idioma preferido:",
    "language.menu_title": "🌎 Selecciona un idioma",
    "language.updated": "✅ Idioma actualizado. Continuaré en {{language}}.",
    "registration.intro": "Vamos a registrarte. Solo necesitamos algunos datos rápidos.",
    "registration.ask_full_name": "¿Cuál es tu nombre completo?",
    "registration.ask_email": "¿Cuál es tu correo electrónico?",
    "registration.ask_phone": "Número de teléfono (opcional). Puedes escribir Omitir si prefieres.",
    "registration.ask_dob": "Fecha de nacimiento (AAAA-MM-DD).",
    "registration.ask_filing_status": "Selecciona tu estado civil para declarar:",
    "registration.ask_income_type": "¿Qué tipo de ingreso aplica para ti?",
    "registration.ask_state": "¿En qué estado vives?",
    "registration.optional_skip": "Omitir",
    "registration.invalid_email": "Ese correo parece inválido. Inténtalo de nuevo.",
    "registration.invalid_dob": "Usa el formato AAAA-MM-DD, por favor.",
    "auth.login_required": "Inicia sesión para continuar.",
    "options.filing_status.single": "Soltero/a",
    "options.filing_status.married_joint": "Casado declaración conjunta",
    "options.filing_status.married_separate": "Casado declaración separada",
    "options.filing_status.head_household": "Cabeza de familia",
    "options.filing_status.widow": "Viudo calificado",
    "options.income_type.w2": "W-2",
    "options.income_type.1099": "1099",
    "options.income_type.student": "Estudiante",
    "options.income_type.retired": "Jubilado",
    "options.income_type.other": "Otro",
    "options.reminder.filing_deadline": "Fecha límite federal",
    "options.reminder.state_deadline": "Fecha límite estatal",
    "options.reminder.documents": "Subir documentos",
    "options.reminder.payment_due": "Pago pendiente",
    "status.draft": "Borrador",
    "status.submitted": "Enviado",
    "status.completed": "Completado",
    "registration.completed": "🎉 Registro completado!",
    "registration.duplicate": "Parece que ya tienes una cuenta. Iniciemos sesión.",
    "registration.success_returning": "¡Bienvenido de nuevo {{name}}!",
    "login.ask_email": "Ingresa el correo asociado a tu cuenta.",
    "login.ask_password": "Ingresa tu contraseña o código de un solo uso.",
    "login.failed": "No pudimos verificar tus datos. Intenta nuevamente o contacta soporte.",
    "login.completed": "✅ Inicio de sesión exitoso.",
    "menu.title": "Menú principal",
    "menu.start_filing": "📝 Iniciar declaración",
    "menu.view_forms": "📂 Ver mis formularios",
    "menu.download_pdf": "📥 Descargar PDF",
    "menu.make_payment": "💳 Realizar pago",
    "menu.ask_ai": "❓ Preguntar a la IA",
    "menu.change_language": "🌎 Cambiar idioma",
    "menu.profile": "👤 Ver / Editar perfil",
    "menu.reminders": "⏰ Recordatorios inteligentes",
    "menu.back": "⬅️ Atrás",
    "menu.cancel": "❌ Cancelar",
    "filing.start": "Capturaremos todo lo necesario para tu declaración. Puedes pausar cuando quieras.",
    "filing.step_progress": "Paso {{current}} de {{total}}",
    "filing.prompt_w2": "Cuéntanos sobre tus salarios W-2 (empleador, ingresos, retenciones).",
    "filing.prompt_1099": "Comparte los detalles de tus ingresos 1099 (tipo, pagador, monto).",
    "filing.prompt_schedule_c": "Ingresos y gastos de tu negocio (Schedule C).",
    "filing.prompt_deductions": "Deducciones que deseas reclamar (caridad, hipoteca, etc.).",
    "filing.prompt_dependents": "Lista a tus dependientes (nombre, fecha de nacimiento, relación).",
    "filing.prompt_education": "Gastos o créditos educativos.",
    "filing.prompt_medical": "Gastos médicos o aportes a HSA.",
    "filing.prompt_mileage": "Millaje de negocios o médico.",
    "filing.saved": "Progreso guardado.",
    "filing.summary_title": "🧾 Resumen de la declaración",
    "filing.summary_review": "Revisa tus datos. Usa los botones para editar antes de finalizar.",
    "filing.confirm_submit": "Enviar a TaxHelp AI",
    "filing.submitted": "✅ Declaración enviada. Un especialista la revisará y te avisará cuando esté lista.",
    "filing.resume_prompt": "Tienes un borrador en curso. ¿Deseas continuar?",
    "ai.prompt": "Haz cualquier pregunta sobre impuestos. Responderé con una explicación clara y enlaces del IRS cuando sea posible.",
    "ai.thinking": "🤖 Pensando...",
    "ai.error": "No pudimos contactar el servicio de IA. Intenta más tarde.",
    "ai.reference_prefix": "Fuentes:",
    "forms.empty": "Aún no tienes formularios. Inicia tu declaración para generar un borrador.",
    "forms.list_header": "Formularios disponibles:",
    "forms.item_line": "• {{name}} ({{year}}) – {{status}}",
    "pdf.preparing": "Preparando tu PDF...",
    "pdf.ready": "Aquí tienes tu PDF.",
    "payment.creating": "Generando una sesión segura de Stripe...",
    "payment.success": "Paga de forma segura con el enlace a continuación. Avísanos cuando termines.",
    "payment.failed": "No pudimos crear la sesión de pago. Intenta más tarde o contacta soporte.",
    "reminder.prompt_type": "Elige el recordatorio que deseas programar.",
    "reminder.choose_deadline": "Ingresa la fecha o periodo para el recordatorio (ej. 2025-04-15 o 'la próxima semana').",
    "reminder.saved": "¡Recordatorio programado! Te avisaremos según lo solicitado.",
    "reminder.add_calendar": "Agregar al calendario",
    "profile.title": "Tu perfil",
    "profile.updated": "Perfil actualizado con éxito.",
    "profile.update_prompt": "Envía el nuevo valor para {{field}}.",
    "profile.choose_field": "¿Qué dato deseas actualizar?",
    "profile.cancelled": "Actualización cancelada.",
    "profile.field_fullName": "Nombre completo",
    "profile.field_phone": "Teléfono",
    "profile.field_filingStatus": "Estado civil",
    "profile.field_incomeType": "Tipo de ingreso",
    "profile.field_state": "Estado de residencia",
    "profile.current_language": "Idioma actual: {{language}}",
    "error.network": "No pude conectar con TaxHelp AI en este momento. Verifica tu conexión e inténtalo de nuevo.",
    "error.generic": "Algo salió mal. Inténtalo nuevamente o contacta soporte.",
  },
  ru: {
    "start.welcome": "👋 Добро пожаловать в TaxHelp AI! Я помогу вам подать налоговую декларацию шаг за шагом.",
    "start.choose_language": "Выберите предпочитаемый язык:",
    "language.menu_title": "🌎 Выберите язык",
    "language.updated": "✅ Язык обновлён. Я продолжу на {{language}}.",
    "registration.intro": "Давайте зарегистрируемся. Нужно ответить на несколько вопросов.",
    "registration.ask_full_name": "Как вас зовут полностью?",
    "registration.ask_email": "Укажите ваш e-mail.",
    "registration.ask_phone": "Номер телефона (необязательно). Можно написать Пропустить.",
    "registration.ask_dob": "Дата рождения (ГГГГ-ММ-ДД).",
    "registration.ask_filing_status": "Выберите статус при подаче декларации:",
    "registration.ask_income_type": "Какой тип дохода у вас?",
    "registration.ask_state": "В каком штате вы проживаете?",
    "registration.optional_skip": "Пропустить",
    "registration.invalid_email": "E-mail указан неверно. Попробуйте ещё раз.",
    "registration.invalid_dob": "Пожалуйста, используйте формат ГГГГ-ММ-ДД.",
    "auth.login_required": "Пожалуйста, войдите, чтобы продолжить.",
    "options.filing_status.single": "Холост/незамужем",
    "options.filing_status.married_joint": "Женатые совместно",
    "options.filing_status.married_separate": "Женатые раздельно",
    "options.filing_status.head_household": "Глава семьи",
    "options.filing_status.widow": "Вдовец/вдова",
    "options.income_type.w2": "W-2",
    "options.income_type.1099": "1099",
    "options.income_type.student": "Студент",
    "options.income_type.retired": "Пенсионер",
    "options.income_type.other": "Другое",
    "options.reminder.filing_deadline": "Федеральный дедлайн",
    "options.reminder.state_deadline": "Дедлайн штата",
    "options.reminder.documents": "Загрузить документы",
    "options.reminder.payment_due": "Оплата налога",
    "status.draft": "Черновик",
    "status.submitted": "Отправлено",
    "status.completed": "Готово",
    "registration.completed": "🎉 Регистрация завершена!",
    "registration.duplicate": "Похоже, аккаунт уже существует. Давайте войдём.",
    "registration.success_returning": "С возвращением, {{name}}!",
    "login.ask_email": "Введите e-mail, привязанный к аккаунту.",
    "login.ask_password": "Введите пароль или одноразовый код.",
    "login.failed": "Не удалось подтвердить данные. Попробуйте ещё раз или свяжитесь с поддержкой.",
    "login.completed": "✅ Вы успешно вошли.",
    "menu.title": "Главное меню",
    "menu.start_filing": "📝 Начать заполнение",
    "menu.view_forms": "📂 Мои формы",
    "menu.download_pdf": "📥 Скачать PDF",
    "menu.make_payment": "💳 Оплатить",
    "menu.ask_ai": "❓ Вопрос ИИ",
    "menu.change_language": "🌎 Сменить язык",
    "menu.profile": "👤 Профиль",
    "menu.reminders": "⏰ Напоминания",
    "menu.back": "⬅️ Назад",
    "menu.cancel": "❌ Отмена",
    "filing.start": "Мы соберём все данные для декларации. Можно приостановиться в любой момент.",
    "filing.step_progress": "Шаг {{current}} из {{total}}",
    "filing.prompt_w2": "Расскажите о доходах по форме W-2 (работодатель, доход, удержания).",
    "filing.prompt_1099": "Детали дохода по 1099 (тип, источник, сумма).",
    "filing.prompt_schedule_c": "Доходы и расходы бизнеса (Schedule C).",
    "filing.prompt_deductions": "Какие вычеты хотите заявить (пожертвования, ипотека и т.д.).",
    "filing.prompt_dependents": "Перечислите иждивенцев (имя, дата рождения, отношение).",
    "filing.prompt_education": "Расходы на образование или кредиты.",
    "filing.prompt_medical": "Медицинские расходы или взносы HSA.",
    "filing.prompt_mileage": "Пробег для бизнеса или медицины.",
    "filing.saved": "Прогресс сохранён.",
    "filing.summary_title": "🧾 Итоговая информация",
    "filing.summary_review": "Проверьте данные. Используйте кнопки, чтобы изменить перед отправкой.",
    "filing.confirm_submit": "Отправить в TaxHelp AI",
    "filing.submitted": "✅ Данные отправлены. Специалист проверит и сообщит, когда всё будет готово.",
    "filing.resume_prompt": "У вас есть незавершённый черновик. Продолжить?",
    "ai.prompt": "Задайте любой налоговый вопрос. Я отвечу простым языком и добавлю ссылки IRS, если возможно.",
    "ai.thinking": "🤖 Думаю...",
    "ai.error": "Не удалось связаться с сервисом ИИ. Попробуйте позже.",
    "ai.reference_prefix": "Источник:",
    "forms.empty": "Формы пока не найдены. Начните заполнение, чтобы создать черновик.",
    "forms.list_header": "Доступные формы:",
    "forms.item_line": "• {{name}} ({{year}}) – {{status}}",
    "pdf.preparing": "Готовим ваш PDF...",
    "pdf.ready": "Ваш PDF готов.",
    "payment.creating": "Создаём защищённую сессию Stripe...",
    "payment.success": "Оплатите по ссылке ниже и сообщите нам после завершения.",
    "payment.failed": "Не удалось создать сессию оплаты. Попробуйте позже или обратитесь в поддержку.",
    "reminder.prompt_type": "Выберите напоминание, которое хотите настроить.",
    "reminder.choose_deadline": "Введите дату или период для напоминания (например, 2025-04-15 или 'через неделю').",
    "reminder.saved": "Напоминание создано! Мы уведомим вас вовремя.",
    "reminder.add_calendar": "Добавить в календарь",
    "profile.title": "Ваш профиль",
    "profile.updated": "Профиль успешно обновлён.",
    "profile.update_prompt": "Отправьте новое значение для {{field}}.",
    "profile.choose_field": "Что хотите изменить?",
    "profile.cancelled": "Изменение отменено.",
    "profile.field_fullName": "Полное имя",
    "profile.field_phone": "Телефон",
    "profile.field_filingStatus": "Статус подачи",
    "profile.field_incomeType": "Тип дохода",
    "profile.field_state": "Штат проживания",
    "profile.current_language": "Текущий язык: {{language}}",
    "error.network": "Не удалось связаться с TaxHelp AI. Проверьте подключение и повторите попытку.",
    "error.generic": "Произошла ошибка. Попробуйте ещё раз или обратитесь в поддержку.",
  },
  zh: {
    "start.welcome": "👋 欢迎使用 TaxHelp AI！我会一步步帮助您完成报税。",
    "start.choose_language": "请选择您的语言：",
    "language.menu_title": "🌎 选择语言",
    "language.updated": "✅ 语言已更新。我将继续使用 {{language}}。",
    "registration.intro": "我们先注册，需要几个简单的问题。",
    "registration.ask_full_name": "您的全名是？",
    "registration.ask_email": "您的邮箱地址是？",
    "registration.ask_phone": "电话号码（可选）。如需跳过请输入 跳过。",
    "registration.ask_dob": "出生日期（YYYY-MM-DD）。",
    "registration.ask_filing_status": "请选择申报身份：",
    "registration.ask_income_type": "请选择您的收入类型：",
    "registration.ask_state": "您居住在哪个州？",
    "registration.optional_skip": "跳过",
    "registration.invalid_email": "邮箱格式看起来不正确，请重试。",
    "registration.invalid_dob": "请使用 YYYY-MM-DD 格式。",
    "auth.login_required": "请先登录以继续。",
    "options.filing_status.single": "单身",
    "options.filing_status.married_joint": "夫妻共同申报",
    "options.filing_status.married_separate": "夫妻分别申报",
    "options.filing_status.head_household": "户主",
    "options.filing_status.widow": "符合条件的鳏寡",
    "options.income_type.w2": "W-2",
    "options.income_type.1099": "1099",
    "options.income_type.student": "学生",
    "options.income_type.retired": "退休",
    "options.income_type.other": "其他",
    "options.reminder.filing_deadline": "联邦截止日期",
    "options.reminder.state_deadline": "州截止日期",
    "options.reminder.documents": "上传缺少的文件",
    "options.reminder.payment_due": "待付款",
    "status.draft": "草稿",
    "status.submitted": "已提交",
    "status.completed": "已完成",
    "registration.completed": "🎉 注册成功！",
    "registration.duplicate": "您似乎已经有账号，我们来登录吧。",
    "registration.success_returning": "欢迎回来，{{name}}！",
    "login.ask_email": "请输入与账号关联的邮箱。",
    "login.ask_password": "请输入密码或一次性验证码。",
    "login.failed": "无法验证您的信息，请重试或联系支持。",
    "login.completed": "✅ 登录成功。",
    "menu.title": "主菜单",
    "menu.start_filing": "📝 开始报税",
    "menu.view_forms": "📂 查看税表",
    "menu.download_pdf": "📥 下载 PDF",
    "menu.make_payment": "💳 支付",
    "menu.ask_ai": "❓ 咨询 AI",
    "menu.change_language": "🌎 切换语言",
    "menu.profile": "👤 查看/编辑资料",
    "menu.reminders": "⏰ 智能提醒",
    "menu.back": "⬅️ 返回",
    "menu.cancel": "❌ 取消",
    "filing.start": "我们将记录完成报税所需的全部信息，随时可以暂停。",
    "filing.step_progress": "第 {{current}} 步，共 {{total}} 步",
    "filing.prompt_w2": "请输入 W-2 工资信息（雇主、收入、预扣税）。",
    "filing.prompt_1099": "请输入 1099 收入详情（类型、付款方、金额）。",
    "filing.prompt_schedule_c": "请输入自雇/商业（Schedule C）的收入和支出。",
    "filing.prompt_deductions": "请输入要申报的扣除项目（捐赠、房贷等）。",
    "filing.prompt_dependents": "列出您的受抚养人（姓名、生日、关系）。",
    "filing.prompt_education": "教育支出或学分。",
    "filing.prompt_medical": "医疗支出或 HSA 供款。",
    "filing.prompt_mileage": "商业/医疗出行里程。",
    "filing.saved": "进度已保存。",
    "filing.summary_title": "🧾 报税摘要",
    "filing.summary_review": "请检查以下信息，若需修改请使用按钮。",
    "filing.confirm_submit": "提交到 TaxHelp AI",
    "filing.submitted": "✅ 已提交。我们的专家会审核并通知您。",
    "filing.resume_prompt": "您有一个未完成的草稿，要继续吗？",
    "ai.prompt": "请提出任何税务问题。我会提供简单说明并附上 IRS 链接（如适用）。",
    "ai.thinking": "🤖 正在思考...",
    "ai.error": "暂时无法连接 AI 服务，请稍后再试。",
    "ai.reference_prefix": "参考来源：",
    "forms.empty": "暂无税表。开始报税以生成草稿。",
    "forms.list_header": "可用的税表：",
    "forms.item_line": "• {{name}} ({{year}}) – {{status}}",
    "pdf.preparing": "正在准备 PDF...",
    "pdf.ready": "您的 PDF 已准备好。",
    "payment.creating": "正在生成安全的 Stripe 支付链接...",
    "payment.success": "请使用以下链接完成付款，完成后通知我们。",
    "payment.failed": "无法创建支付会话，请稍后再试或联系客服。",
    "reminder.prompt_type": "请选择要设置的提醒类型。",
    "reminder.choose_deadline": "请输入提醒日期或时间范围（例如 2025-04-15 或“下周”）。",
    "reminder.saved": "提醒已设置，我们会按时通知您。",
    "reminder.add_calendar": "添加到日历",
    "profile.title": "您的个人资料",
    "profile.updated": "资料已更新。",
    "profile.update_prompt": "请输入新的 {{field}}。",
    "profile.choose_field": "您想更新哪项信息？",
    "profile.cancelled": "已取消更新。",
    "profile.field_fullName": "姓名",
    "profile.field_phone": "电话",
    "profile.field_filingStatus": "申报身份",
    "profile.field_incomeType": "收入类型",
    "profile.field_state": "居住州",
    "profile.current_language": "当前语言：{{language}}",
    "error.network": "目前无法连接 TaxHelp AI。请检查网络后重试。",
    "error.generic": "发生错误，请重试或联系支持。",
  },
  ar: {
    "start.welcome": "👋 مرحبًا بك في TaxHelp AI! سأرشدك خطوة بخطوة في إقرارك الضريبي.",
    "start.choose_language": "اختر لغتك المفضلة:",
    "language.menu_title": "🌎 اختر اللغة",
    "language.updated": "✅ تم تحديث اللغة. سأكمل باللغة {{language}}.",
    "registration.intro": "لنبدأ التسجيل. سنطرح بعض الأسئلة السريعة.",
    "registration.ask_full_name": "ما اسمك الكامل؟",
    "registration.ask_email": "ما هو بريدك الإلكتروني؟",
    "registration.ask_phone": "رقم الهاتف (اختياري). اكتب تخطي إذا رغبت.",
    "registration.ask_dob": "تاريخ الميلاد (YYYY-MM-DD).",
    "registration.ask_filing_status": "اختر حالة الإقرار الضريبي:",
    "registration.ask_income_type": "ما نوع الدخل لديك؟",
    "registration.ask_state": "في أي ولاية تعيش؟",
    "registration.optional_skip": "تخطي",
   "registration.invalid_email": "البريد الإلكتروني غير صحيح. حاول مرة أخرى.",
    "registration.invalid_dob": "يرجى استخدام الصيغة YYYY-MM-DD.",
    "auth.login_required": "يرجى تسجيل الدخول للمتابعة.",
    "options.filing_status.single": "أعزب",
    "options.filing_status.married_joint": "متزوج - إقرار مشترك",
    "options.filing_status.married_separate": "متزوج - إقرار منفصل",
    "options.filing_status.head_household": "رب الأسرة",
    "options.filing_status.widow": "أرمل مؤهل",
    "options.income_type.w2": "W-2",
    "options.income_type.1099": "1099",
    "options.income_type.student": "طالب",
    "options.income_type.retired": "متقاعد",
    "options.income_type.other": "أخرى",
    "options.reminder.filing_deadline": "الموعد النهائي الفيدرالي",
    "options.reminder.state_deadline": "الموعد النهائي للولاية",
    "options.reminder.documents": "رفع المستندات",
    "options.reminder.payment_due": "دفع مستحق",
    "status.draft": "مسودة",
    "status.submitted": "مُرسل",
    "status.completed": "مكتمل",
    "registration.completed": "🎉 تم التسجيل بنجاح!",
    "registration.duplicate": "يبدو أن لديك حسابًا بالفعل. دعنا نسجل الدخول.",
    "registration.success_returning": "مرحبًا بعودتك {{name}}!",
    "login.ask_email": "أدخل البريد المرتبط بحسابك.",
    "login.ask_password": "أدخل كلمة المرور أو الرمز المؤقت.",
    "login.failed": "تعذر التحقق من البيانات. حاول مجددًا أو تواصل مع الدعم.",
    "login.completed": "✅ تم تسجيل الدخول.",
    "menu.title": "القائمة الرئيسية",
    "menu.start_filing": "📝 بدء الإقرار",
    "menu.view_forms": "📂 عرض النماذج",
    "menu.download_pdf": "📥 تنزيل PDF",
    "menu.make_payment": "💳 دفع",
    "menu.ask_ai": "❓ اسأل الذكاء الاصطناعي",
    "menu.change_language": "🌎 تغيير اللغة",
    "menu.profile": "👤 عرض / تعديل الملف الشخصي",
    "menu.reminders": "⏰ تذكيرات ذكية",
    "menu.back": "⬅️ رجوع",
    "menu.cancel": "❌ إلغاء",
    "filing.start": "سنقوم بجمع كل ما نحتاجه لإقرارك الضريبي. يمكنك الإيقاف مؤقتًا في أي وقت.",
    "filing.step_progress": "الخطوة {{current}} من {{total}}",
    "filing.prompt_w2": "أخبرنا عن دخل W-2 الخاص بك (صاحب العمل، الدخل، الاستقطاعات).",
    "filing.prompt_1099": "شارك تفاصيل دخل 1099 (النوع، الدافع، المبلغ).",
    "filing.prompt_schedule_c": "دخل ومصروفات العمل (Schedule C).",
    "filing.prompt_deductions": "الخصومات التي ترغب في المطالبة بها (التبرعات، الرهن العقاري...).",
    "filing.prompt_dependents": "أدرج المعالين لديك (الاسم، تاريخ الميلاد، العلاقة).",
    "filing.prompt_education": "مصروفات التعليم أو الاعتمادات.",
    "filing.prompt_medical": "النفقات الطبية أو مساهمات HSA.",
    "filing.prompt_mileage": "عدد الأميال للأعمال أو الطب.",
    "filing.saved": "تم حفظ التقدم.",
    "filing.summary_title": "🧾 ملخص الإقرار",
    "filing.summary_review": "راجع بياناتك أدناه. استخدم الأزرار للتعديل قبل الإرسال.",
    "filing.confirm_submit": "إرسال إلى TaxHelp AI",
    "filing.submitted": "✅ تم الإرسال. سيقوم المختص بالمراجعة وإعلامك عند الانتهاء.",
    "filing.resume_prompt": "لديك مسودة غير مكتملة. هل تريد المتابعة؟",
    "ai.prompt": "اطرح أي سؤال ضريبي. سأجيبك بشرح بسيط وروابط IRS إن توفرت.",
    "ai.thinking": "🤖 جاري التفكير...",
    "ai.error": "تعذر الاتصال بخدمة الذكاء الاصطناعي. حاول لاحقًا.",
    "ai.reference_prefix": "المصادر:",
    "forms.empty": "لا توجد نماذج بعد. ابدأ الإقرار لإنشاء مسودة.",
    "forms.list_header": "النماذج المتاحة:",
    "forms.item_line": "• {{name}} ({{year}}) – {{status}}",
    "pdf.preparing": "يتم تجهيز ملف PDF...",
    "pdf.ready": "إليك ملف PDF الخاص بك.",
    "payment.creating": "يتم إنشاء جلسة Stripe آمنة...",
    "payment.success": "ادفع بأمان من الرابط أدناه ثم أخبرنا بعد الانتهاء.",
    "payment.failed": "تعذر إنشاء جلسة الدفع. حاول لاحقًا أو اتصل بالدعم.",
    "reminder.prompt_type": "اختر نوع التذكير الذي ترغب في جدوله.",
    "reminder.choose_deadline": "أدخل التاريخ أو المدة لهذا التذكير (مثال 2025-04-15 أو 'الأسبوع القادم').",
    "reminder.saved": "تم جدولة التذكير! سنخطرك في الوقت المحدد.",
    "reminder.add_calendar": "إضافة إلى التقويم",
    "profile.title": "ملفك الشخصي",
    "profile.updated": "تم تحديث الملف الشخصي بنجاح.",
    "profile.update_prompt": "أرسل القيمة الجديدة لـ {{field}}.",
    "profile.choose_field": "ما المعلومات التي ترغب في تعديلها؟",
    "profile.cancelled": "تم إلغاء التعديل.",
    "profile.field_fullName": "الاسم الكامل",
    "profile.field_phone": "رقم الهاتف",
    "profile.field_filingStatus": "حالة الإقرار",
    "profile.field_incomeType": "نوع الدخل",
    "profile.field_state": "الولاية",
    "profile.current_language": "اللغة الحالية: {{language}}",
    "error.network": "تعذّر الاتصال بخدمة TaxHelp AI الآن. تحقّق من الاتصال وحاول مرة أخرى.",
    "error.generic": "حدث خطأ ما. حاول مرة أخرى أو تواصل مع الدعم.",
  },
  fa: {
    "start.welcome": "👋 به TaxHelp AI خوش آمدید! من گام‌به‌گام در ارسال مالیات همراه شما هستم.",
    "start.choose_language": "لطفاً زبان مورد نظر خود را انتخاب کنید:",
    "language.menu_title": "🌎 انتخاب زبان",
    "language.updated": "✅ زبان به {{language}} تغییر کرد.",
    "registration.intro": "بیایید ثبت‌نام کنیم. چند سوال کوتاه داریم.",
    "registration.ask_full_name": "نام و نام خانوادگی شما چیست؟",
    "registration.ask_email": "آدرس ایمیل شما چیست؟",
    "registration.ask_phone": "شماره تلفن (اختیاری). برای رد شدن، بنویسید رد کردن.",
    "registration.ask_dob": "تاریخ تولد (YYYY-MM-DD).",
    "registration.ask_filing_status": "وضعیت اظهارنامه خود را انتخاب کنید:",
    "registration.ask_income_type": "نوع درآمد شما چیست؟",
    "registration.ask_state": "در کدام ایالت زندگی می‌کنید؟",
    "registration.optional_skip": "رد کردن",
    "registration.invalid_email": "ایمیل وارد شده معتبر نیست. دوباره تلاش کنید.",
    "registration.invalid_dob": "لطفاً از قالب YYYY-MM-DD استفاده کنید.",
    "auth.login_required": "لطفاً برای ادامه وارد شوید.",
    "options.filing_status.single": "مجرد",
    "options.filing_status.married_joint": "متأهل - اظهار مشترک",
    "options.filing_status.married_separate": "متأهل - اظهار جداگانه",
    "options.filing_status.head_household": "سرپرست خانوار",
    "options.filing_status.widow": "بیوه واجد شرایط",
    "options.income_type.w2": "W-2",
    "options.income_type.1099": "1099",
    "options.income_type.student": "دانشجو",
    "options.income_type.retired": "بازنشسته",
    "options.income_type.other": "سایر",
    "options.reminder.filing_deadline": "موعد فدرال",
    "options.reminder.state_deadline": "موعد ایالت",
    "options.reminder.documents": "بارگذاری مدارک",
    "options.reminder.payment_due": "پرداخت",
    "status.draft": "پیش‌نویس",
    "status.submitted": "ارسال شده",
    "status.completed": "تکمیل شده",
    "registration.completed": "🎉 ثبت‌نام با موفقیت انجام شد!",
    "registration.duplicate": "به نظر می‌رسد از قبل حساب دارید. وارد شویم.",
    "registration.success_returning": "{{name}}، خوش برگشتی!",
    "login.ask_email": "ایمیلی را که به حساب شما متصل است وارد کنید.",
    "login.ask_password": "رمز عبور یا کد یکبار مصرف را وارد کنید.",
    "login.failed": "امکان تأیید اطلاعات نبود. دوباره تلاش کنید یا با پشتیبانی تماس بگیرید.",
    "login.completed": "✅ ورود موفقیت‌آمیز بود.",
    "menu.title": "منوی اصلی",
    "menu.start_filing": "📝 شروع اظهارنامه",
    "menu.view_forms": "📂 مشاهده فرم‌ها",
    "menu.download_pdf": "📥 دانلود PDF",
    "menu.make_payment": "💳 پرداخت",
    "menu.ask_ai": "❓ سوال از هوش مصنوعی",
    "menu.change_language": "🌎 تغییر زبان",
    "menu.profile": "👤 مشاهده/ویرایش پروفایل",
    "menu.reminders": "⏰ یادآورها",
    "menu.back": "⬅️ بازگشت",
    "menu.cancel": "❌ لغو",
    "filing.start": "همه اطلاعات لازم برای اظهارنامه را ذخیره می‌کنیم. هر زمان خواستید می‌توانید مکث کنید.",
    "filing.step_progress": "گام {{current}} از {{total}}",
    "filing.prompt_w2": "اطلاعات درآمد W-2 (کارفرما، درآمد، مالیات کسر شده) را وارد کنید.",
    "filing.prompt_1099": "جزئیات درآمد 1099 (نوع، پرداخت‌کننده، مبلغ) را وارد کنید.",
    "filing.prompt_schedule_c": "درآمد و هزینه‌های کسب‌وکار (Schedule C).",
    "filing.prompt_deductions": "کسرهایی که می‌خواهید مطالبه کنید (خیریه، وام مسکن و ...).",
    "filing.prompt_dependents": "افراد تحت تکفل (نام، تاریخ تولد، نسبت) را لیست کنید.",
    "filing.prompt_education": "هزینه‌ها یا اعتبارهای آموزشی.",
    "filing.prompt_medical": "هزینه‌های پزشکی یا مشارکت‌های HSA.",
    "filing.prompt_mileage": "میزان مسافت برای کار یا پزشکی.",
    "filing.saved": "پیشرفت ذخیره شد.",
    "filing.summary_title": "🧾 خلاصه اظهارنامه",
    "filing.summary_review": "اطلاعات زیر را بررسی کنید و در صورت نیاز با دکمه‌ها ویرایش کنید.",
    "filing.confirm_submit": "ارسال به TaxHelp AI",
    "filing.submitted": "✅ ارسال شد. کارشناس بررسی کرده و نتیجه را اطلاع می‌دهد.",
    "filing.resume_prompt": "یک پیش‌نویس ناتمام دارید. ادامه می‌دهید؟",
    "ai.prompt": "هر سوال مالیاتی دارید بپرسید. با توضیح ساده و لینک IRS پاسخ می‌دهم.",
    "ai.thinking": "🤖 در حال پردازش...",
    "ai.error": "ارتباط با سرویس هوش مصنوعی ممکن نیست. بعداً تلاش کنید.",
    "ai.reference_prefix": "منابع:",
    "forms.empty": "هنوز فرمی موجود نیست. برای ایجاد پیش‌نویس اظهارنامه را شروع کنید.",
    "forms.list_header": "فرم‌های موجود:",
    "forms.item_line": "• {{name}} ({{year}}) – {{status}}",
    "pdf.preparing": "در حال آماده‌سازی PDF...",
    "pdf.ready": "PDF شما آماده است.",
    "payment.creating": "در حال ساخت نشست امن Stripe...",
    "payment.success": "با لینک زیر به صورت امن پرداخت کنید و بعد از اتمام اطلاع دهید.",
    "payment.failed": "ایجاد نشست پرداخت ممکن نشد. بعداً تلاش کنید یا با پشتیبانی تماس بگیرید.",
    "reminder.prompt_type": "نوع یادآور مورد نظر را انتخاب کنید.",
    "reminder.choose_deadline": "تاریخ یا بازه زمانی یادآور را وارد کنید (مثلاً 2025-04-15 یا 'هفته بعد').",
    "reminder.saved": "یادآور ثبت شد! در زمان مقرر اطلاع می‌دهیم.",
    "reminder.add_calendar": "افزودن به تقویم",
    "profile.title": "پروفایل شما",
    "profile.updated": "پروفایل با موفقیت به‌روزرسانی شد.",
    "profile.update_prompt": "مقدار جدید {{field}} را ارسال کنید.",
    "profile.choose_field": "کدام مورد را می‌خواهید تغییر دهید؟",
    "profile.cancelled": "به‌روزرسانی لغو شد.",
    "profile.field_fullName": "نام کامل",
    "profile.field_phone": "تلفن",
    "profile.field_filingStatus": "وضعیت اظهار",
    "profile.field_incomeType": "نوع درآمد",
    "profile.field_state": "ایالت محل سکونت",
    "profile.current_language": "زبان فعلی: {{language}}",
    "error.network": "در حال حاضر ارتباط با TaxHelp AI برقرار نشد. لطفاً اتصال خود را بررسی کرده و دوباره تلاش کنید.",
    "error.generic": "مشکلی رخ داد. لطفاً دوباره تلاش کنید یا با پشتیبانی تماس بگیرید.",
  },
};

function format(template: string, params?: Record<string, string | number | undefined>): string {
  if (!params) return template;
  return template.replace(/{{(.*?)}}/g, (_, key) => {
    const value = params[key.trim()];
    return value !== undefined ? String(value) : "";
  });
}

export function t(language: LanguageCode, key: string, params?: Record<string, string | number | undefined>): string {
  const langTable = translations[language] ?? translations.en;
  const template = langTable[key] ?? translations.en[key] ?? key;
  return format(template, params);
}

export function languageLabel(code: LanguageCode): string {
  const lang = LANGUAGES.find((l) => l.code === code);
  return lang ? lang.label : code;
}
